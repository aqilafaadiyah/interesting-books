(this["webpackJsonpinteresting-books"]=this["webpackJsonpinteresting-books"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var o=n(4),c=n.n(o),i=n(13),s=n.n(i),r=(n(18),n(19),n(8)),a=n(11),l=n(9),u=n.p+"static/media/img_11.69547cf4.png",d=n(7);n(20),n(24);d.a.initializeApp({apiKey:"AIzaSyDM7hv9Grti2V0nvCHPg-_S45ErjHedoQM",authDomain:"interesting-books.firebaseapp.com",projectId:"interesting-books",storageBucket:"interesting-books.appspot.com",messagingSenderId:"461287448200",appId:"1:461287448200:web:74a640ea72d9a7e3ca893d"});var j=d.a.database(),h=d.a.auth(),b=new d.a.auth.GoogleAuthProvider,p=n(3);var O=function(){var e=Object(o.useState)({username:"",currentBook:"",bookAuthor:"",description:""}),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(o.useState)([]),s=Object(l.a)(i,2),d=s[0],O=s[1],m=Object(o.useState)(null),g=Object(l.a)(m,2),x=g[0],v=g[1];Object(o.useEffect)((function(){j.ref("books").on("value",(function(e){console.log(e.val());var t=e.val(),n=[];for(var o in t)n.push({id:o,title:t[o].title,author:t[o].author,user:t[o].user,description:t[o].description});console.log(n),O(n)}))}),[n,x]);var f=function(e){c(Object(a.a)(Object(a.a)({},n),{},Object(r.a)({},e.target.name,e.target.value)))};return console.log(n),console.log(d),Object(o.useEffect)((function(){h.onAuthStateChanged((function(e){e&&v(e)}))}),[x]),Object(p.jsxs)("div",{className:"app",children:[Object(p.jsx)("header",{children:Object(p.jsxs)("div",{className:"wrapper",children:[Object(p.jsxs)("section",{children:[Object(p.jsx)("h1",{children:"Interesting Books"}),Object(p.jsx)("img",{src:u,alt:"Books logo",width:"50",height:"50"})]}),x?Object(p.jsx)("button",{onClick:function(){h.signOut().then((function(){v(null)}))},children:"Log Out"}):Object(p.jsx)("button",{onClick:function(){h.signInWithPopup(b).then((function(e){var t=e.user;v(t)}))},children:"Log In"})]})}),x?Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"user-profile",children:Object(p.jsx)("img",{src:x.photoURL,alt:"User images"})}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("section",{className:"add-item",children:Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=j.ref("books"),o={title:n.currentBook,author:n.bookAuthor,user:x.displayName||x.email,description:n.description};t.push(o),console.log("here"),c({currentBook:"",bookAuthor:"",username:"",description:""})},children:[Object(p.jsx)("input",{type:"text",name:"username",placeholder:"Your name?",onChange:f,value:x.displayName||x.email}),Object(p.jsx)("input",{type:"text",name:"currentBook",placeholder:"Book recommendation?",onChange:f,value:n.currentBook}),Object(p.jsx)("input",{type:"text",name:"bookAuthor",placeholder:"Book author?",onChange:f,value:n.bookAuthor}),Object(p.jsx)("textarea",{name:"description",placeholder:"Why should we read this?",value:n.description,onChange:f}),Object(p.jsx)("button",{children:"Add Book"})]})}),Object(p.jsx)("section",{className:"display-item",children:Object(p.jsx)("div",{className:"wrapper",children:Object(p.jsx)("ul",{children:d.map((function(e){return Object(p.jsxs)("li",{children:[Object(p.jsx)("h3",{children:e.title}),Object(p.jsxs)("p",{children:["Author: ",e.author]}),Object(p.jsxs)("p",{children:["Suggested by: ",e.user]}),Object(p.jsxs)("p",{children:["Description: ",e.description]}),e.user===x.displayName||e.user===x.email?Object(p.jsx)("button",{onClick:function(){return t=e.id,void j.ref("books/".concat(t)).remove();var t},children:"Remove Book"}):null]},e.id)}))})})})]})]}):Object(p.jsxs)("div",{className:"wrapper-1",children:[Object(p.jsx)("p",{className:"text-text",children:"You need to be logged in with a google account to see the book list and submit your recommendation."}),Object(p.jsx)("section",{className:"display-item",children:Object(p.jsx)("div",{className:"wrapper",children:Object(p.jsx)("ul",{children:d.map((function(e){return Object(p.jsxs)("li",{children:[Object(p.jsx)("h3",{children:e.title}),Object(p.jsxs)("p",{children:["Author: ",e.author]}),Object(p.jsxs)("p",{children:["Suggested by: ",e.user]}),Object(p.jsxs)("p",{children:["Description: ",e.description]})]},e.id)}))})})})]})]})};var m=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(O,{})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),o(e),c(e),i(e),s(e)}))};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(m,{})}),document.getElementById("root")),g()}},[[27,1,2]]]);
//# sourceMappingURL=main.8ad2f9c1.chunk.js.map